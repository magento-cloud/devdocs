!function(d,t,i,s){var o="contributorsList",e={dataUrl:"https://s3.us-east-2.amazonaws.com/statistic.engcom.magento.com/magento.com/devdocs-contributors.js",periodTypes:"monthly,quarterly,yearly",periodTypesSettings:{monthly:{value:"monthly",label:"Monthly",periodsLimit:12,contributorsLimit:20},quarterly:{value:"quoter",label:"Quarterly",periodsLimit:12,contributorsLimit:20},yearly:{value:"years",label:"Yearly",periodsLimit:5,contributorsLimit:20}},periodsLimit:null,contributorsLimit:null,periodSwitcherClass:"periods",periodTypeSwitcherClass:"period-type-switcher",loadingClass:"loading",activeClass:"active",loadedClass:"loaded",hiddenClass:"hide",periodClass:"contributors-period",contributorsListClass:"contributors-list",contributorClass:"contributor",contributorNameClass:"contributor-name",contributorAvatarClass:"contributor-avatar",contributorStatsClass:"contributor-stats"};function a(t,i){var p=this;this.element=t,this.$element=d(t),this._defaults=e,this._name=o,this.metadata=this.$element.data(),this.options=d.extend(!0,{},e,i,this.metadata),this.onDataFail=function(t){p.$element.removeClass(p.options.loadingClass)},this.onDataLoaded=function(a){p.$element.removeClass(p.options.loadingClass).addClass(p.options.loadedClass);var r="",n="",t="",l="",i=p.options.periodTypes.replace(/\s/g,"").toLowerCase().split(",");d.each(i,function(t,i){var s=p.options.periodTypesSettings[i]?p.options.periodTypesSettings[i].value:null;if(a[s]&&s){var o={value:s,label:p.options.periodTypesSettings[i].label,class:p.options.periodClass+(0!=t?" "+p.options.hiddenClass:""),periodsLimit:p.options.periodTypesSettings[i].periodsLimit,contributorsLimit:p.options.contributorsLimit?p.options.contributorsLimit:p.options.periodTypesSettings[i].contributorsLimit};n+='<button class="'+(0==t?p.options.activeClass:"")+'" data-period-type="'+o.value+'">'+o.label+"</button>";var e=p.buildContributorsPeriod(a[o.value],o);l+=e.switcher,r+=e.contributors}}),1<i.length&&(t='<div class="'+p.options.periodTypeSwitcherClass+'">'+n+"</div>");var s='<div class="'+p.options.periodSwitcherClass+'">'+t+l+"</div>",o=d(s+r);o.find("select").on("change",p.handlePeriodChange),o.find("."+p.options.periodTypeSwitcherClass+" button").on("click",p.handlePeriodTypeChange),p.$element.append(o),p.loadImages(p.$element.find("img:visible"))},this.loadImages=function(t){t.each(function(){d(this).attr("src",d(this).data("src"))})},this.buildContributorsPeriod=function(e,a){var t=e.periods.reverse().slice(0,a.periodsLimit),i="",r="",n="";return d.each(t,function(t,i){var s=i,o={periodValue:s.value,periodLabel:s.label,contributorsLimit:a.contributorsLimit,contributorsListClass:p.options.contributorsListClass+(0!=t?" "+p.options.hiddenClass:"")};r+='<option value="'+o.periodValue+'">'+o.periodLabel+"</option>",n+=p.buildContributorsList(e.contributors[o.periodValue],o)}),1<t.length&&(i='<select class="'+a.class+'" data-period-type="'+a.value+'">'+r+"</select>"),{switcher:i,contributors:n='<div class="'+a.class+'" data-period-type="'+a.value+'">'+n+"</div>"}},this.buildContributorsList=function(t,i){var s="";return t=t.slice(0,i.contributorsLimit),t=this.sortContributors(t),d.each(t,function(t,i){s+=p.buildContributor(i)}),'<div class="'+i.contributorsListClass+'" data-period="'+i.periodValue+'">'+s+"</div>"},this.sortContributors=function(t){return t.sort(function(t,i){return i.accepted-t.accepted})},this.buildContributor=function(t){var i=t.name,s=t.avatar,o=t.user_link;if("https://github.com/ghost"==o)return"";var e=t.accepted,a=t.accepted_url,r=t.created,n=t.created_url,l=t.rejected,d=t.rejected_url,c='<ul class="'+p.options.contributorStatsClass+'"><li><span>Accepted</span> <a href="'+a+'">'+e+'</a></li><li><span>Created</span> <a href="'+n+'">'+r+'</a></li><li><span>Rejected</span> <a href="'+d+'">'+l+"</a></li></ul>";return'<div class="'+p.options.contributorClass+'"><a href="'+o+'"><div class="'+p.options.contributorAvatarClass+'"><img data-src="'+s+'" alt="'+i+'" /></div><h5 class="'+p.options.contributorNameClass+'">'+i+"</h5></a>"+c+"</div>"},this.handlePeriodChange=function(t){var i=t.target.value,s=t.target.getAttribute("data-period-type"),o=p.$element.find("."+p.options.periodClass+'[data-period-type="'+s+'"] .'+p.options.contributorsListClass);o.addClass(p.options.hiddenClass).filter('[data-period="'+i+'"]').removeClass(p.options.hiddenClass),p.loadImages(o.find("img:visible"))},this.handlePeriodTypeChange=function(t){var i=t.target.getAttribute("data-period-type");d(this).addClass(p.options.activeClass).siblings().removeClass(p.options.activeClass),p.$element.find("."+p.options.periodClass).addClass(p.options.hiddenClass).filter('[data-period-type="'+i+'"]').removeClass(p.options.hiddenClass),p.loadImages(p.$element.find("img:visible"))},this.init()}a.prototype.init=function(){this.$element.addClass(this.options.loadingClass),d.getJSON(this.options.dataUrl,this.onDataLoaded).fail(this.onDataFail)},d.fn[o]=function(t){return this.each(function(){d.data(this,"plugin_"+o)||d.data(this,"plugin_"+o,new a(this,t))})}}(jQuery,window,document),$(function(){$(".devdocs-contributors").contributorsList()});